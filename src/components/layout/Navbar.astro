---
import { Image } from "astro:assets";
import logo from "../assets/logoSinBg.png";
import iso from "../../assets/iso.png";
---

<nav
  class="fixed top-0 w-full z-50 px-6 py-6 flex justify-between items-center mix-blend-difference text-white"
>
  <a
    href="/"
    class="text-4xl font-bold tracking-tighter flex items-center gap-2 group"
  >
    <Image src={iso} alt="ISO" class="w-12 h-12" />
    <span
      class="transition-colors duration-300 group-hover:text-[rgb(255,215,0)]"
      >SAMANA</span
    >
  </a>

  <div
    class="hidden md:flex gap-10 text-base font-medium items-center tracking-wide text-gray-300"
  >
    <a href="/nosotros" class="hover:text-[rgb(255,215,0)] transition-colors"
      >Sobre Nosotros</a
    >
    <a href="/proyectos" class="hover:text-[rgb(255,215,0)] transition-colors"
      >Proyectos</a
    >
    <a href="/servicios" class="hover:text-[rgb(255,215,0)] transition-colors"
      >Servicios</a
    >
    <a href="/blog" class="hover:text-[rgb(255,215,0)] transition-colors"
      >Blog</a
    >
    <a
      href="/contacto"
      class="transition-colors border border-white/20 px-5 py-2.5 rounded-full hover:border-[rgb(255,215,0)] hover:text-[#ffd700]"
      >COTIZA</a
    >
  </div>

  <button
    id="menu-btn"
    class="md:hidden text-white border border-white/30 px-3 py-1 rounded-full"
    >Menu</button
  >
</nav>

<div
  id="mobile-menu"
  class="fixed inset-0 z-9999 bg-black/90 backdrop-blur-lg flex-col items-end justify-center gap-10 text-3xl hidden opacity-0 transition-opacity duration-300"
>
  <button id="close-btn" class="absolute top-8 right-8 text-white text-xl"
    >X</button
  >
  <a href="/nosotros" class="hover:text-[rgb(255,215,0)] transition-colors"
    >Sobre Nosotros</a
  >
  <a href="/proyectos" class="hover:text-[rgb(255,215,0)] transition-colors"
    >Proyectos</a
  >
  <a href="/servicios" class="hover:text-[rgb(255,215,0)] transition-colors"
    >Servicios</a
  >
  <a href="/blog" class="hover:text-[rgb(255,215,0)] transition-colors">Blog</a>
  <a
    href="#contacto"
    class="mobile-link border border-white/20 px-6 py-2 rounded-full mx-2"
    >COTIZA</a
  >
</div>

<script>
  const menuBtn = document.getElementById("menu-btn");
  const closeBtn = document.getElementById("close-btn");
  const mobileMenu = document.getElementById("mobile-menu");
  const links = document.querySelectorAll(".mobile-link");

  function toggleMenu(show: boolean) {
    if (!mobileMenu) return;
    if (show) {
      mobileMenu.classList.remove("hidden");
      // Pequeño timeout para permitir la transición de opacidad
      setTimeout(() => mobileMenu.classList.remove("opacity-0"), 10);
    } else {
      mobileMenu.classList.add("opacity-0");
      setTimeout(() => mobileMenu.classList.add("hidden"), 300);
    }
  }

  menuBtn?.addEventListener("click", () => toggleMenu(true));
  closeBtn?.addEventListener("click", () => toggleMenu(false));
  links.forEach((link) =>
    link.addEventListener("click", () => toggleMenu(false)),
  );
</script>
